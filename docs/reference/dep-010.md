+++
dep = 10
title = "Draft Check"
authors = [ "Björn Magnusson <bjornmagnusson1984@gmail.com>" ]
created = 2019-01-27
+++

# Abstract

This document describes draft `check`, how and when to use it. The `check` command verifies that system and tools required by Draft is setup correctly and can be used by Draft.

# Motivation

Draft requires a number of dependencies to be setup correctly in order to function as intended.
A draft command to verify that these dependencies is up and running as required by Draft, will help new and existing users to be confident that the Draft environment is up and running, before any Draft actions is done.

# Specification

A `check` command to the Draft CLI to enable verifying each dependency in one run.
Specification is highly inspired by the `linkerd check` command.

## What dependencies to verify

* Draft
  * $HOME/.draft exists (contains correct files?)
  * Draft packs up-to-date
* Kubernetes cluster
  * Draft can connect to cluster
* Helm 
  * Helm in-cluster components is installed

## Example run

Running `draft check` against a correctly configured environment

```bash

Draft
--------------
√ $HOME/.draft exists
√ draft packs is up-to-date
Kubernetes cluster
--------------
√ Draft can connect to cluster
Helm 
--------------
√ in-cluster components is installed
```

Running `draft check` against a incorrectly configured environment
```bash
Draft 
--------------
√ $HOME/.draft exists
√ draft packs is up-to-date
--------------
Kubernetes cluster
× Draft can connect to cluster (failed to connect, is Kubernetes running?)
```
